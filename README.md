# Design Patterns

## Patrones seleccionados

### 1. Singleton (Creacional)
- **Problema:** Se requiere una sola instancia para manejar la configuración y la conexión a la base de datos.
- **Aplicación:** Clase `DatabaseConnection` asegurará una única conexión compartida por todos los módulos.
- **Beneficios:** Evita múltiples conexiones, centraliza la configuración.

### 2. Repository (Estructural)
- **Problema:** Separar la lógica de negocio de la persistencia de datos.
- **Aplicación:** Repositorios `UsuarioRepository`, `ViajeRepository`, etc., que encapsulan consultas y operaciones de la base de datos.
- **Beneficios:** Facilita pruebas unitarias, cambio de motor de BD sin alterar la lógica de dominio.

### 3. Observer / Publisher–Subscriber (Comportamiento)
- **Problema:** Enviar notificaciones en tiempo real cuando se actualiza un viaje o se acepta una solicitud.
- **Aplicación:** El módulo de notificaciones se suscribe a eventos del módulo de viajes y emite mensajes a los usuarios.
- **Beneficios:** Desacopla el emisor de los receptores, facilita añadir nuevos canales de notificación.

### 4. Strategy (Comportamiento)
- **Problema:** Permitir distintos cálculos de tarifas o métodos de pago.
- **Aplicación:** Una interfaz `PaymentStrategy` con implementaciones para tarjeta, efectivo, billetera digital.
- **Beneficios:** Permite añadir nuevos métodos sin cambiar la lógica central.

### 5. Factory Method (Creacional)
- **Problema:** Crear objetos de notificación (Push, Email, SMS) sin acoplar el código a clases concretas.
- **Aplicación:** `NotificationFactory` devolverá el tipo de notificación adecuado según configuración.
- **Beneficios:** Centraliza la creación y facilita la extensión.



![Descripción de la imagen](/img/diagramasrelacionaldebasesdedatos.png)



### 4.2.X.1 Architectural Design Backlog – Iteración: **Autenticación y Gestión de Usuario**

| ID    | Tipo                        | Driver (Descripción)                                                                                                                                               | Prioridad | Historias / TS relacionadas          | Componentes afectados                                                  | Criterios de aceptación                                                                                                                                                                                                                                                                                                                           | Notas / Riesgos                                                                                                       |
|-------|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------:|--------------------------------------|------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| ADB-01 | Funcional                   | **Registro y autenticación de usuarios**: flujo de registro con verificación por correo, login con JWT, recuperación y cambio de contraseña.                       | Alta      | US01, US02, US03, TS01, TS02, US07   | Auth Service, User Service, Email Service, DB `usuario`, API Gateway, Security middleware | - `POST /api/auth/register` crea usuario no verificado y retorna 201. <br>- Se envía correo con token de verificación. <br>- `POST /api/auth/login` devuelve access y refresh token. <br>- Flujo de recuperación de contraseña envía link y permite cambiar la contraseña.                                                                              | Uso de hashing seguro (bcrypt/argon2). JWT short-lived + refresh tokens. Riesgo: entrega de correo (proveedor externo). |
| ADB-02 | Calidad (Seguridad)         | **Seguridad global**: TLS en transporte, hashing de contraseñas, RBAC, validaciones de entrada, rate limiting, protección contra CSRF/OWASP.                       | Alta      | —                                    | Todos los servicios (Auth crítico), API Gateway, DB                      | - Todas las APIs bajo TLS. <br>- Contraseñas nunca en texto plano. <br>- Accesos a endpoints críticos requieren token válido y rol. <br>- Rate limits aplicados.                                                                                                                                                                                     | Meta: 0 vulnerabilidades críticas en escaneo SAST básico.                                                              |
| ADB-03 | Calidad (Disponibilidad)    | **Alta disponibilidad y tolerancia a fallos**: health checks, retries, circuit breaker en servicios de autenticación.                                               | Media     | —                                    | Auth Service, API Gateway, Monitoring/Logging                            | - Health checks configurados. <br>- Retries con backoff y circuit breakers frente a servicios externos. <br>- Monitoreo y alertas activas.                                                                                                                                                                                                          | SLA objetivo 99.9 % para Auth y User Service.                                                                          |
| ADB-04 | Calidad (Rendimiento)       | **Escalabilidad**: garantizar respuesta <200 ms en login/registro y capacidad de escalar horizontalmente servicios de autenticación y usuario.                       | Alta      | —                                    | Auth Service, User Service, Cache (Redis), Load Balancer                 | - Login y registro responden <200 ms en condiciones normales. <br>- Arquitectura soporta escalamiento horizontal (stateless). <br>- Cache para consultas frecuentes de usuarios verificados.                                                                                                                                                         | Meta inicial: 1 k usuarios concurrentes; escalar a 10 k con autoscaling.                                                |
| ADB-05 | Restricción (Persistencia)  | **Base de datos relacional obligatoria**: PostgreSQL para usuarios y tokens; esquema relacional documentado y versionado por migraciones.                            | Alta      | DB Diagram                           | PostgreSQL, Migrations (Flyway/TypeORM), Backups                         | - Esquema implementado por migraciones. <br>- Backups diarios automáticos.                                                                                                                                                                                                                                                                          | Evaluar uso de Redis como complemento para sesiones o blacklisting de tokens.                                          |
| ADB-06 | Restricción (Despliegue)    | **Contenerización y Cloud**: empaquetar Auth y User Service en Docker; despliegue en AWS ECS/EKS (o equivalente).                                                   | Alta      | —                                    | Docker, Orquestador (ECS/EKS), CI/CD                                     | - Imágenes Docker construidas y almacenadas en registry. <br>- Despliegue a entorno staging reproducible.                                                                                                                                                                                                                                           | Definir infraestructura como código (Terraform/CloudFormation).                                                        |
| ADB-07 | Riesgo / Dependencia externa| **Integraciones externas**: proveedor de correo (para verificación y recuperación).                                                                                | Alta      | TS02                                  | Email Provider, Auth Service                                             | - Integración con proveedor de correo con fallback. <br>- Manejo de errores y límites de cuota.                                                                                                                                                                                                                                                     | Riesgo: dependencia de SLA de terceros; plan de degradación si falla envío de emails.                                  |



# Student Outcomes

| Criterio específico | Acciones realizadas | Conclusiones |
|---------------------|---------------------|--------------|
| **Actualiza conceptos y conocimientos necesarios para su desarrollo profesional y en especial para su proyecto en soluciones de software.** | **Gamarra Vega, Anderson José**<br>- Redacté el Lean UX Canvas, relacionando hipótesis y supuestos con los objetivos del producto, lo que me permitió afianzar mis conocimientos en metodologías ágiles de diseño.<br>- Contribuí en la construcción del Product Backlog, aplicando técnicas de priorización que me ayudaron a fortalecer mis competencias en gestión de requisitos y planificación de software.<br>- Apliqué tácticas de arquitectura y definí Architectural Drivers para el Capítulo IV, fortaleciendo mis conocimientos en diseño escalable y mantenible.<br><br>**Nanfuñay Liza, Pedro Jesús**<br>- Redacté puntos esenciales para el desarrollo del presente proyecto como el Lean UX Assumptions, Empathy Maps y User Stories, aplicando conocimientos adquiridos de manera eficiente y clara, y buenas prácticas que me permitieron actualizar mis conocimientos y fortalecer mis competencias en el desarrollo de software.<br>- Redacté principios y enfoques arquitectónicos, seleccionando estilos y patrones que mejor se alinean con las necesidades del proyecto.<br><br>**Quijandria Araneda, Vicente**<br>- Desarrollé la sección de antecedentes y problemática, aplicando herramientas de análisis para contextualizar el proyecto.<br>- Participé en la redacción de User Stories, lo que me permitió reforzar mi capacidad de transformar hallazgos en especificaciones claras y accionables.<br>- Elaboré el Context Diagram y los ViewPoints Diagram para representar la arquitectura del sistema.<br><br>**Hallasi Saravia, Miguel Ángel**<br>- Redacté la sección de segmentos objetivo, lo cual me permitió aplicar conceptos de segmentación y análisis de usuarios.<br>- Participé activamente en entrevistas y en la construcción del Impact Map, afianzando mis conocimientos en la identificación de métricas de valor y validación de usuarios.<br>- Documenté funcionalidades principales y Quality Attribute Scenarios, relacionando requisitos con la arquitectura.<br><br>**Valera Garcés, Samuel Ignacio**<br>- Redacté la descripción de la startup y documenté escenarios As-Is y To-Be, lo que me ayudó a profundizar en el análisis de procesos y a fortalecer mis competencias en modelado de escenarios.<br>- Diseñé el diagrama de base de datos relacional/no relacional, definí Design Patterns y dirigí las ADD Iterations del Capítulo IV. | Cada integrante actualizó y aplicó conceptos fundamentales en Lean UX, análisis de usuarios, especificación de requisitos y principios de arquitectura de software. El equipo en conjunto demostró que la aplicación práctica de estos conocimientos fortaleció sus competencias profesionales y mejoró la calidad del proyecto. |
| **Reconoce la necesidad del aprendizaje permanente para el desempeño profesional y el desarrollo de proyectos en soluciones de software.** | **Gamarra Vega, Anderson José**<br>- Al elaborar el Lean UX Canvas y priorizar el backlog, comprendí la importancia de actualizar de manera constante mis conocimientos en análisis de producto y planificación, reconociendo que el aprendizaje continuo es clave para mejorar mi desempeño profesional.<br>- Al definir tácticas y drivers de arquitectura en el Capítulo IV, reforcé la importancia de seguir aprendiendo para tomar mejores decisiones de diseño.<br><br>**Nanfuñay Liza, Pedro Jesús**<br>- Al redactar este informe comprendí la importancia de actualizar constantemente los conocimientos que adquiero, ya que es un aspecto fundamental para mejorar mis capacidades, desempeño profesional y en el desarrollo de proyectos de soluciones de software.<br>- Al seleccionar estilos y patrones arquitectónicos, confirmé la necesidad de aprendizaje continuo para identificar buenas prácticas de arquitectura.<br><br>**Quijandria Araneda, Vicente**<br>- Al redactar los antecedentes y problemática y participar en la definición de historias de usuario, entendí que debo mantenerme actualizado en técnicas de análisis y documentación de requisitos para elevar mi desempeño en futuros proyectos.<br>- Al elaborar diagramas de contexto y vistas arquitectónicas, reconocí que el aprendizaje permanente es esencial para mejorar mis capacidades de diseño.<br><br>**Hallasi Saravia, Miguel Ángel**<br>- Al elaborar los segmentos objetivo, realizar entrevistas y desarrollar el Impact Map, comprendí que el aprendizaje permanente es esencial para perfeccionar mis competencias en validación de usuarios y métricas de impacto.<br>- Al documentar escenarios de atributos de calidad y diagramas de arquitectura, confirmé la necesidad de seguir aprendiendo para abordar sistemas complejos.<br><br>**Valera Garcés, Samuel Ignacio**<br>- Al redactar la descripción de la startup y los escenarios As-Is/To-Be, entendí la necesidad de fortalecer constantemente mis conocimientos en mapeo de procesos y comunicación de resultados, reconociendo que el aprendizaje continuo es esencial para mi desarrollo profesional.<br>- Al diseñar la base de datos y dirigir las ADD Iterations, reafirmé la importancia del aprendizaje constante para optimizar la arquitectura de software. | El equipo reconoció que el aprendizaje permanente es un pilar para el crecimiento profesional y para la mejora continua en el desarrollo de proyectos de software. La experiencia les permitió reafirmar la importancia de seguir investigando, aplicando nuevas técnicas y adaptando buenas prácticas a futuros retos. |

